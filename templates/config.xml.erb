<?xml version="1.0" ?>
<config>
    <localeversion suppressWarning="false">0.8</localeversion>
    <version>3944-2012-06-18</version>
    <help url="<%= scope.lookupvar("bigbluebutton::help_url") %>"/>
    <porttest host="<%= @fqdn %>" application="video"/>
    <application uri="rtmp://<%= @fqdn %>/bigbluebutton" host="http://<%= @fqdn %>/bigbluebutton/api/enter" />
    <language userSelectionEnabled="true" />
    <skinning enabled="<%= scope.lookupvar("bigbluebutton::enable_skin") %>" url="<%= theme_skin %>" />
    <layout showLogButton="false" showVideoLayout="false" showResetLayout="true" showToolbar="true" showHelpButton="true" showLogoutWindow="true"/>
    
  	<modules>
        <module name="ChatModule" url="ChatModule.swf?v=3944"
            uri="rtmp://<%= @fqdn %>/bigbluebutton"
      			dependsOn="ViewersModule"
            translationOn="<%= scope.lookupvar("bigbluebutton::translation_on") %>"
            translationEnabled="<%= scope.lookupvar("bigbluebutton::translation_enabled") %>"
            privateEnabled="<%= scope.lookupvar("bigbluebutton::private_chat") %>"
			      position="top-right"
		    />
		
		    <module name="ViewersModule" url="ViewersModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/bigbluebutton" 
            host="http://<%= @fqdn %>/bigbluebutton/api/enter"
            allowKickUser="<%= scope.lookupvar("bigbluebutton::allow_kick_user") %>"
			      windowVisible="true"
		    />
			
		    <module name="ListenersModule" url="ListenersModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/bigbluebutton" 
            recordingHost="http://<%= @fqdn %>"
			      windowVisible="true"
			      position="bottom-left"
		    />
		
		    <module name="DeskShareModule" 
			      url="DeskShareModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/deskShare"
			      autoStart="false"
		    />
		
		    <module name="PhoneModule" url="PhoneModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/sip"
            autoJoin="<%= scope.lookupvar("bigbluebutton::phone_auto_join") %>"
            skipCheck="<%= scope.lookupvar("bigbluebutton::phone_skip_check") %>"
			      showButton="true"
			      enabledEchoCancel="true"
			      dependsOn="ViewersModule"
		    />

		    <module name="VideoconfModule" url="VideoconfModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/video"
			      dependson = "ViewersModule"
            videoQuality = "<%= scope.lookupvar("bigbluebutton::video_quality") %>"
            presenterShareOnly = "<%= scope.lookupvar("bigbluebutton::presenter_share_only") %>"
            resolutions = "<%= scope.lookupvar("bigbluebutton::resolutions") %>"
			      autoStart = "false"
			      showButton = "true"
			      showCloseButton = "true"
			      publishWindowVisible = "true"
			      viewerWindowMaxed = "false"
			      viewerWindowLocation = "top"
			      camKeyFrameInterval = "30"
            camModeFps = "<%= scope.lookupvar("bigbluebutton::cam_mode_fps") %>"
            camQualityBandwidth = "<%= scope.lookupvar("bigbluebutton::cam_quality_bandwith") %>"
            camQualityPicture = "<%= scope.lookupvar("bigbluebutton::cam_quality_picture") %>"
            enableH264 = "<%= scope.lookupvar("bigbluebutton::enable_h264") %>"
			      h264Level = "2.1"
			      h264Profile = "main"			
		    />
		
		    <module name="WhiteboardModule" url="WhiteboardModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/bigbluebutton" 
			      dependsOn="PresentModule"
		    />
		
		    <module name="PresentModule" url="PresentModule.swf?v=3944" 
            uri="rtmp://<%= @fqdn %>/bigbluebutton" 
            host="http://<%= @fqdn %>" 
			      showPresentWindow="true"
			      showWindowControls="true"
			      dependsOn="ViewersModule"
		    />

		    <module name="VideodockModule" url="VideodockModule.swf?v=3944"
            uri="rtmp://<%= @fqdn %>/bigbluebutton" 
			      dependsOn="VideoconfModule, ViewersModule"
			      autoDock="true"
			      maximizeWindow="false"
			      position="bottom-right"
			      width="172"
			      height="179"
			      layout="smart"
			      oneAlwaysBigger="false"
		    />
		
		    <!-- new module in development: 
		    <module name="DynamicInfoModule" url="DynamicInfoModule.swf?v=3944" 
			      uri="rtmp://33.33.33.200/bigbluebutton" 
			      host="http://33.33.33.200" 
			      infoURL="http://33.33.33.200/client/conf/example-info-data.xml?user={userID}&role={role}&meetingID={meetingID}"
		    />
		    -->
		
		    <!--<module name="ExampleChatModule" url="ExampleChatModule.swf?v=56" 
			      uri="rtmp://33.33.33.200/bigbluebutton" 
			      host="http://33.33.33.200"
		    />-->
		
		    <!--<module name="SharedNotesModule" url="SharedNotesModule.swf?v=3944" 
			      uri="http://33.33.33.200/bigbluebutton" 
			      dependsOn="ViewersModule"
		    />-->
		
	</modules>
</config>
